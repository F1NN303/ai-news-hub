<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AI News Hub | Latest in AI, OpenAI & ChatGPT</title>
  <meta name="description" content="Stay updated with the latest AI news, OpenAI developments, ChatGPT updates, and innovations in artificial intelligence.">
  <meta property="og:title" content="AI News Hub">
  <meta property="og:description" content="Your source for the latest AI news and developments">
  <meta property="og:type" content="website">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: '#0ea5e9', secondary: '#06b6d4',
            dark: '#0f172a', light: '#f8fafc', accent: '#818cf8'
          },
          fontFamily: { inter: ['Inter', 'sans-serif'], roboto: ['Roboto', 'sans-serif'] },
          animation: { 'text-gradient':'text-gradient 3s ease infinite','float':'float 6s ease-in-out infinite','fade-in':'fadeIn 0.5s ease-in' },
          keyframes: {
            'text-gradient': { '0%,100%':{'background-position':'0% 50%'}, '50%':{'background-position':'100% 50%'} },
            'float': { '0%,100%':{transform:'translateY(0)'}, '50%':{transform:'translateY(-20px)'} },
            'fadeIn': { '0%':{opacity:0}, '100%':{opacity:1} }
          }
        }
      }
    }
  </script>
  <style>
    :root { --primary:#0ea5e9; --secondary:#06b6d4; --dark:#0f172a; --light:#f8fafc; --accent:#818cf8; }
    body{ font-family:'Inter',sans-serif; background:#f8fafc; color:#0f172a; transition:background-color .3s,color .3s }
    body.dark{ background:#0f172a; color:#f1f5f9 }
    .gradient-bg{ background:linear-gradient(135deg,#0ea5e9,#06b6d4,#818cf8); background-size:200% 200%; animation:text-gradient 8s ease infinite }
    .sticky-nav{ position:sticky; top:0; z-index:50; backdrop-filter:blur(10px); transition:all .3s ease }
    .post-card{ transition:transform .3s ease, box-shadow .3s ease; overflow:hidden }
    .post-card:hover{ transform:translateY(-5px); box-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 10px 10px -5px rgba(0,0,0,.04) }
    .hero-title{ font-size:clamp(2rem,5vw,4rem); line-height:1.1; text-shadow:0 2px 10px rgba(0,0,0,.2) }
    .parallax{ background-attachment:fixed; background-position:center; background-repeat:no-repeat; background-size:cover }
    .fade-in{ animation:fadeIn .8s ease-in }
    .masonry-grid{ column-count:1; column-gap:1.5rem }
    @media (min-width:768px){ .masonry-grid{ column-count:2 } }
    @media (min-width:1024px){ .masonry-grid{ column-count:3 } }
    .masonry-item{ break-inside:avoid; margin-bottom:1.5rem }
    .loading{ display:inline-block; width:80px; height:80px }
    .loading:after{ content:" "; display:block; width:64px; height:64px; margin:8px; border-radius:50%; border:6px solid var(--primary); border-color:var(--primary) transparent var(--primary) transparent; animation:loading 1.2s linear infinite }
    @keyframes loading{ 0%{transform:rotate(0)} 100%{transform:rotate(360deg)} }
    .trending-item{ transition:transform .3s ease }
    .trending-item:hover{ transform:translateX(5px) }
    .tag{ transition:all .2s ease }
    .tag:hover{ transform:translateY(-2px) }
    .newsletter-input:focus{ box-shadow:0 0 0 3px rgba(14,165,233,.3) }
  </style>
</head>
<body class="bg-light dark:bg-dark transition-colors duration-300">
  <!-- Loading Overlay -->
  <div id="loading-overlay" class="fixed inset-0 bg-white dark:bg-dark bg-opacity-90 dark:bg-opacity-90 z-50 flex flex-col items-center justify-center transition-opacity duration-300 hidden">
    <div class="loading"></div>
    <p class="mt-4 text-xl font-semibold text-primary dark:text-secondary">Loading Content...</p>
  </div>

  <!-- Header -->
  <header class="sticky-nav bg-white/80 dark:bg-dark/80 py-4 border-b border-slate-200 dark:border-slate-700 shadow-sm">
    <div class="container mx-auto px-4">
      <div class="flex justify-between items-center">
        <div class="flex items-center">
          <div class="w-10 h-10 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center mr-3">
            <i class="fas fa-brain text-white text-xl"></i>
          </div>
          <h1 class="text-2xl font-bold bg-clip-text text-transparent gradient-bg">AI News Hub</h1>
        </div>

        <div class="hidden md:flex space-x-1">
          <a href="#openai" class="px-4 py-2 rounded-lg font-medium hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors">OpenAI News</a>
          <a href="#chatgpt" class="px-4 py-2 rounded-lg font-medium hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors">ChatGPT Updates</a>
          <a href="#industry" class="px-4 py-2 rounded-lg font-medium hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors">AI Industry</a>
          <a href="#research" class="px-4 py-2 rounded-lg font-medium hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors">Research & Innovation</a>
        </div>

        <div class="flex items-center space-x-4">
          <div class="relative">
            <input type="text" id="search-input" placeholder="Search..." class="pl-10 pr-4 py-2 rounded-full bg-slate-100 dark:bg-slate-800 text-sm w-40 md:w-64 focus:outline-none focus:ring-2 focus:ring-primary transition-all">
            <i class="fas fa-search absolute left-3 top-3 text-slate-400"></i>
            <div id="search-results" class="absolute left-0 mt-2 w-full bg-white dark:bg-slate-800 rounded-lg shadow-xl z-10 hidden"></div>
          </div>

          <button id="theme-toggle" class="w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors">
            <i class="fas fa-moon text-slate-700 dark:text-yellow-400 hidden dark:block"></i>
            <i class="fas fa-sun text-yellow-500 dark:text-yellow-400 block dark:hidden"></i>
          </button>

          <button class="md:hidden text-slate-700 dark:text-slate-300">
            <i class="fas fa-bars text-xl"></i>
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="relative py-16 md:py-24 bg-gradient-to-r from-blue-900 to-indigo-900 dark:from-slate-900 dark:to-slate-900 text-white">
    <div class="absolute inset-0 bg-grid-slate-900/[0.04] bg-[bottom_1px_center] dark:bg-grid-slate-400/[0.05]"></div>
    <div class="container mx-auto px-4 relative z-10">
      <div class="max-w-4xl mx-auto text-center">
        <span class="px-4 py-1 bg-white/20 backdrop-blur-sm rounded-full text-sm font-medium inline-block mb-6">Breaking News</span>
        <h1 class="hero-title font-bold mb-6 fade-in">OpenAI Announces GPT-5: The Next Evolution in AI Language Models</h1>
        <p class="text-xl text-blue-100 dark:text-slate-300 mb-8 max-w-2xl mx-auto fade-in">
          Discover the groundbreaking capabilities of GPT-5, set to revolutionize how we interact with AI. Enhanced reasoning, multimodal understanding, and unprecedented context length.
        </p>
        <div class="flex justify-center gap-4 fade-in">
          <a href="#read-more" class="px-8 py-3 bg-primary hover:bg-blue-600 rounded-full font-semibold transition-colors shadow-lg hover:shadow-xl">Read Full Article</a>
          <a href="#trending" class="px-8 py-3 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-full font-semibold transition-colors">See What's Trending</a>
        </div>
      </div>
    </div>
    <div class="absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-blue-900 dark:from-slate-900 to-transparent"></div>
    <div class="absolute top-20 right-10 w-16 h-16 rounded-full bg-gradient-to-r from-primary to-secondary opacity-30 animate-float hidden md:block"></div>
    <div class="absolute top-1/3 left-12 w-12 h-12 rounded-full bg-gradient-to-r from-purple-500 to-indigo-500 opacity-20 animate-float animation-delay-2000 hidden md:block"></div>
    <div class="absolute bottom-20 right-1/4 w-8 h-8 rounded-full bg-gradient-to-r from-cyan-400 to-blue-500 opacity-40 animate-float animation-delay-3000 hidden md:block"></div>
  </section>

  <!-- Main -->
  <main class="container mx-auto px-4 py-12">
    <div class="flex flex-col lg:flex-row gap-8">
      <!-- Blog Posts -->
      <div class="w-full lg:w-2/3">
        <div class="mb-12">
          <h2 id="openai" class="text-3xl font-bold mb-6 pb-2 border-b-2 border-primary inline-block">Latest Posts</h2>
          <!-- dynamic -->
          <div id="post-list" class="masonry-grid"></div>
        </div>

        <div class="mb-12">
          <h2 id="chatgpt" class="text-3xl font-bold mb-6 pb-2 border-b-2 border-secondary inline-block">ChatGPT Updates</h2>
          <div id="chatgpt-list" class="grid grid-cols-1 md:grid-cols-2 gap-6"></div>
        </div>
      </div>

      <!-- Sidebar -->
      <div class="w-full lg:w-1/3">
        <div class="sticky top-24">
          <!-- Trending -->
          <div id="trending" class="bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6 mb-8">
            <h3 class="text-xl font-bold mb-4 pb-2 border-b border-slate-200 dark:border-slate-700">Trending Topics</h3>
            <ul id="trending-list" class="space-y-4"><li class="text-slate-500">Loading…</li></ul>
          </div>

          <!-- Newsletter -->
          <div class="bg-gradient-to-r from-primary to-secondary rounded-xl shadow-lg p-6 mb-8">
            <h3 class="text-xl font-bold text-white mb-3">AI Insights Newsletter</h3>
            <p class="text-blue-100 mb-4">Get the latest AI news, research summaries, and industry analysis delivered weekly.</p>
            <form class="space-y-3">
              <input type="email" placeholder="Your email address" class="newsletter-input w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-white">
              <button type="submit" class="w-full bg-white text-primary font-semibold py-3 rounded-lg hover:bg-slate-100 transition-colors">Subscribe</button>
            </form>
            <p class="text-blue-100 text-xs mt-3">We respect your privacy. Unsubscribe at any time.</p>
          </div>

          <!-- Social -->
          <div class="bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6">
            <h3 class="text-xl font-bold mb-4">Connect With Us</h3>
            <div class="flex space-x-4">
              <a href="#" class="w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center hover:bg-primary hover:text-white transition-colors"><i class="fab fa-twitter"></i></a>
              <a href="#" class="w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center hover:bg-blue-700 hover:text-white transition-colors"><i class="fab fa-linkedin-in"></i></a>
              <a href="#" class="w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center hover:bg-indigo-600 hover:text-white transition-colors"><i class="fab fa-facebook-f"></i></a>
              <a href="#" class="w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center hover:bg-gradient-to-r from-purple-500 to-pink-500 hover:text-white transition-colors"><i class="fab fa-instagram"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-slate-900 text-white py-12">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div>
          <div class="flex items-center mb-4">
            <div class="w-10 h-10 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center mr-3">
              <i class="fas fa-brain text-white text-xl"></i>
            </div>
            <h2 class="text-2xl font-bold">AI News Hub</h2>
          </div>
          <p class="text-slate-400 mb-4">Your trusted source for the latest developments in artificial intelligence.</p>
          <div class="flex space-x-3">
            <a href="#" class="text-slate-400 hover:text-white transition-colors"><i class="fab fa-twitter"></i></a>
            <a href="#" class="text-slate-400 hover:text-white transition-colors"><i class="fab fa-linkedin-in"></i></a>
            <a href="#" class="text-slate-400 hover:text-white transition-colors"><i class="fab fa-facebook-f"></i></a>
            <a href="#" class="text-slate-400 hover:text-white transition-colors"><i class="fab fa-youtube"></i></a>
          </div>
        </div>

        <div>
          <h3 class="text-lg font-semibold mb-4">Categories</h3>
          <ul class="space-y-2">
            <li><a href="#" class="text-slate-400 hover:text-white transition-colors">OpenAI News</a></li>
            <li><a href="#" class="text-slate-400 hover:text-white transition-colors">ChatGPT Updates</a></li>
            <li><a href="#" class="text-slate-400 hover:text-white transition-colors">AI Industry News</a></li>
            <li><a href="#" class="text-slate-400 hover:text-white transition-colors">Research & Innovation</a></li>
            <li><a href="#" class="text-slate-400 hover:text-white transition-colors">Ethics & Policy</a></li>
          </ul>
        </div>

        <div>
          <h3 class="text-lg font-semibold mb-4">Resources</h3>
          <ul class="space-y-2">
            <li><a href="#" class="text-slate-400 hover:text-white transition-colors">AI Glossary</a></li>
            <li><a href="#" class="text-slate-400 hover:text-white transition-colors">Research Papers</a></li>
            <li><a href="#" class="text-slate-400 hover:text-white transition-colors">Tutorials</a></li>
            <li><a href="#" class="text-slate-400 hover:text-white transition-colors">Events Calendar</a></li>
            <li><a href="#" class="text-slate-400 hover:text-white transition-colors">Job Board</a></li>
          </ul>
        </div>

        <div>
          <h3 class="text-lg font-semibold mb-4">Legal</h3>
          <ul class="space-y-2">
            <li><a href="#" class="text-slate-400 hover:text-white transition-colors">Privacy Policy</a></li>
            <li><a href="#" class="text-slate-400 hover:text-white transition-colors">Terms of Service</a></li>
            <li><a href="#" class="text-slate-400 hover:text-white transition-colors">Cookie Policy</a></li>
            <li><a href="#" class="text-slate-400 hover:text-white transition-colors">GDPR Compliance</a></li>
          </ul>
        </div>
      </div>

      <div class="border-t border-slate-800 mt-8 pt-8 text-center text-slate-500">
        <p>© 2023 AI News Hub. All rights reserved. Designed with ❤️ for the AI community.</p>
      </div>
    </div>
  </footer>

  <script>
    // Dark mode
    const themeToggle = document.getElementById('theme-toggle');
    const htmlElement = document.documentElement;
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) htmlElement.classList.add(savedTheme); else htmlElement.classList.add('light');
    themeToggle.addEventListener('click', () => {
      htmlElement.classList.toggle('dark');
      localStorage.setItem('theme', htmlElement.classList.contains('dark') ? 'dark' : 'light');
    });

    // Fade-in demo loader
    document.addEventListener('DOMContentLoaded', () => {
      const loadingOverlay = document.getElementById('loading-overlay');
      loadingOverlay.classList.remove('hidden');
      setTimeout(() => loadingOverlay.classList.add('hidden'), 800);
      document.querySelectorAll('.fade-in').forEach(el => el.style.animation = 'fadeIn 0.8s ease-in');
    });

    // Helper
    const API = '/api';
    const fallbackImg = 'https://images.unsplash.com/photo-1677442135139-42460661e0a0?q=80&w=1000';
    const escapeHtml = (s='') => s.replace(/[&<>"']/g, m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;', "'":'&#039;'}[m]));
    const toggleLoading = on => document.getElementById('loading-overlay').classList.toggle('hidden', !on);

    // Render functions
    function postCard(p) {
      const date = p.published_at || p.created_at || Date.now();
      const img = p.image_url || fallbackImg;
      const author = p.author || 'AI News Hub';
      const category = p.category || 'General';
      return `
      <div class="masonry-item">
        <article class="post-card bg-white dark:bg-slate-800 rounded-xl overflow-hidden shadow-lg">
          <div class="relative">
            <img src="${img}" alt="" class="w-full h-56 object-cover" loading="lazy">
            <div class="absolute top-4 right-4"><span class="bg-primary text-white text-xs font-semibold px-3 py-1 rounded-full">${escapeHtml(category)}</span></div>
          </div>
          <div class="p-6">
            <div class="flex items-center text-sm text-slate-500 dark:text-slate-400 mb-3">
              <span>${new Date(date).toLocaleDateString()}</span>
              <span class="mx-2">•</span>
              <span>${escapeHtml(author)}</span>
            </div>
            <h3 class="text-xl font-bold mb-3">${escapeHtml(p.title || '')}</h3>
            <p class="text-slate-600 dark:text-slate-300 mb-4">${escapeHtml(p.excerpt || '')}</p>
            <a href="/api/posts/${p.id}" class="text-primary font-semibold hover:underline inline-flex items-center">
              Read JSON <i class="fas fa-arrow-right ml-2 text-sm"></i>
            </a>
          </div>
        </article>
      </div>`;
    }

    function renderPosts(posts) {
      const grid = document.getElementById('post-list');
      grid.innerHTML = posts.length ? posts.map(postCard).join('') :
        '<p class="text-slate-500">No posts yet.</p>';
      // ChatGPT bucket (client side filter)
      const chat = document.getElementById('chatgpt-list');
      const chatPosts = posts.filter(p => (p.category||'').toLowerCase().includes('chatgpt'));
      chat.innerHTML = chatPosts.slice(0,4).map(p => `
        <article class="post-card bg-white dark:bg-slate-800 rounded-xl overflow-hidden shadow-lg">
          <img src="${p.image_url || fallbackImg}" class="w-full h-48 object-cover" loading="lazy">
          <div class="p-6">
            <div class="flex items-center text-sm text-slate-500 dark:text-slate-400 mb-3">
              <span>${new Date(p.published_at || p.created_at || Date.now()).toLocaleDateString()}</span>
              <span class="mx-2">•</span>
              <span>${escapeHtml(p.author || 'AI News Hub')}</span>
            </div>
            <h3 class="text-xl font-bold mb-3">${escapeHtml(p.title || '')}</h3>
            <a href="/api/posts/${p.id}" class="text-primary font-semibold hover:underline inline-flex items-center">
              Read JSON <i class="fas fa-arrow-right ml-2 text-sm"></i>
            </a>
          </div>
        </article>`).join('') || '<p class="text-slate-500">No ChatGPT updates yet.</p>';
    }

    function renderTrending(posts){
      const list = document.getElementById('trending-list');
      const counts = {};
      posts.forEach(p => {
        if (p.category) counts[p.category] = (counts[p.category]||0)+1;
        (p.tags||[]).forEach(t => counts[t] = (counts[t]||0)+1);
      });
      const items = Object.entries(counts).sort((a,b)=>b[1]-a[1]).slice(0,5);
      list.innerHTML = items.length ? items.map(([name,count],i)=>`
        <li class="trending-item">
          <a href="#" class="flex items-start group" data-filter="${escapeHtml(name)}">
            <span class="text-xl font-bold text-slate-400 mr-3 group-hover:text-primary">${String(i+1).padStart(2,'0')}</span>
            <div>
              <h4 class="font-semibold group-hover:text-primary transition-colors">${escapeHtml(name)}</h4>
              <p class="text-sm text-slate-500 dark:text-slate-400">${count} articles</p>
            </div>
          </a>
        </li>`).join('') : '<li class="text-slate-500">No trending topics yet.</li>';

      // Click to filter
      list.querySelectorAll('a[data-filter]').forEach(a=>{
        a.addEventListener('click', e=>{
          e.preventDefault();
          const key = a.dataset.filter.toLowerCase();
          const filtered = window.__posts.filter(p =>
            (p.category||'').toLowerCase()===key ||
            (p.tags||[]).map(t=>t.toLowerCase()).includes(key)
          );
          renderPosts(filtered.length?filtered:window.__posts);
        });
      });
    }

    function hydrateSearch(posts){
      const input=document.getElementById('search-input');
      const box=document.getElementById('search-results');
      input.addEventListener('input', ()=>{
        const q=input.value.trim().toLowerCase();
        if(q.length<2){ box.classList.add('hidden'); return; }
        const matches=posts.filter(p =>
          (p.title||'').toLowerCase().includes(q) ||
          (p.excerpt||'').toLowerCase().includes(q)
        ).slice(0,8);
        box.innerHTML = matches.length ? matches.map(p=>`
          <a class="block p-4 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors border-b border-slate-200 dark:border-slate-700 last:border-0" href="/api/posts/${p.id}">
            <div class="font-semibold">${escapeHtml(p.title||'Untitled')}</div>
            <div class="text-xs text-slate-500">${escapeHtml(p.category||'')}</div>
          </a>`).join('') : '<div class="p-4 text-center text-slate-500">No results</div>';
        box.classList.remove('hidden');
      });
      document.addEventListener('click',(e)=>{ if(!box.contains(e.target) && e.target!==input) box.classList.add('hidden'); });
    }

    function hydrateHero(posts){
      if(!posts.length) return;
      const p=posts[0];
      const h=document.querySelector('.hero-title');
      const a=document.querySelector('a[href="#read-more"]');
      if(h) h.textContent = p.title || h.textContent;
      if(a) a.setAttribute('href', `/api/posts/${p.id}`);
    }

    async function loadData(){
      toggleLoading(true);
      try{
        const res = await fetch(`${API}/posts`);
        const posts = await res.json();
        window.__posts = posts; // cache for filters/search
        renderPosts(posts);
        renderTrending(posts);
        hydrateSearch(posts);
        hydrateHero(posts);
      } catch (e) { console.error(e); }
      finally { toggleLoading(false); }
    }
    window.addEventListener('load', loadData);

    // Sticky nav effect
    window.addEventListener('scroll', () => {
      const header = document.querySelector('header');
      if (window.scrollY > 100) { header.classList.add('shadow-lg','py-2'); header.classList.remove('py-4'); }
      else { header.classList.remove('shadow-lg','py-2'); header.classList.add('py-4'); }
    });

    // Smooth anchor scroll
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        const target = document.querySelector(this.getAttribute('href'));
        if (target) { e.preventDefault(); window.scrollTo({ top: target.offsetTop - 80, behavior: 'smooth' }); }
      });
    });
  </script>
</body>
</html>
