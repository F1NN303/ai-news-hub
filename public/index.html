<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI News Hub — Home</title>

  <!-- Auth0: DO NOT CHANGE -->
  <meta name="auth0-client-id" content="a2MdQnWFC2HOqBY09V4EZ7KOFjj3fXNK">
  <meta name="auth0-domain" content="dev-zi3ojkfg51ob4f3c.eu.auth0.com">
  <meta name="auth0-audience" content="https://ai-news-hub-eta.vercel.app/api">

  <!-- Theme (persisted) -->
  <script>
    document.documentElement.dataset.theme = localStorage.theme || 'light';
    if (document.documentElement.dataset.theme === 'dark') document.documentElement.classList.add('dark');
  </script>

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: { primary:'#0ea5e9', secondary:'#06b6d4', dark:'#0f172a', light:'#f8fafc', accent:'#818cf8' },
          fontFamily: { inter: ['Inter','system-ui','sans-serif'] }
        }
      }
    };
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/resources/site.css" />

  <!-- Icons (Font Awesome) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <!-- Auth0 SPA SDK + your helper -->
  <script src="https://cdn.auth0.com/js/auth0-spa-js/2.1/auth0-spa-js.production.js"></script>
  <script src="/auth/auth.js" defer></script>

  <style>
    .gradient-text{background:linear-gradient(135deg,#0ea5e9,#22d3ee);-webkit-background-clip:text;background-clip:text;color:transparent}
    .nav-link{padding:.5rem 1rem;border-radius:.6rem}
    .nav-link:hover{background-color:rgba(148,163,184,.15)}
    .card{border:1px solid rgba(148,163,184,.2)}
    .sticky-nav{backdrop-filter:saturate(180%) blur(10px)}
  </style>
</head>

<body class="bg-light dark:bg-dark text-slate-900 dark:text-slate-100 font-inter">
  <!-- HEADER -->
  <header class="sticky top-0 z-40 bg-white/80 dark:bg-dark/80 border-b border-slate-200 dark:border-slate-800 sticky-nav">
    <div class="max-w-6xl mx-auto px-4">
      <div class="h-16 flex items-center justify-between gap-3">
        <!-- Brand -->
        <a class="flex items-center min-w-0" href="/">
          <span class="w-11 h-11 md:w-12 md:h-12 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center mr-3 shrink-0">
            <i class="fa-solid fa-brain text-white text-lg md:text-xl"></i>
          </span>
          <span class="text-2xl md:text-3xl font-extrabold gradient-text leading-none">AI News Hub</span>
        </a>

        <!-- Desktop nav -->
        <nav class="hidden md:flex items-center gap-1">
          <a href="#openai"   class="nav-link">OpenAI News</a>
          <a href="#chatgpt"  class="nav-link">ChatGPT Updates</a>
          <a href="#industry" class="nav-link">AI Industry</a>
          <a href="#research" class="nav-link">Research & Innovation</a>
        </nav>

        <!-- Right cluster -->
        <div class="flex items-center gap-3">
          <!-- PROFILE AVATAR ONLY (links to /profile.html) -->
          <a id="profile-chip" href="/profile.html"
             class="hidden items-center rounded-full border border-slate-200 dark:border-slate-700 hover:ring-2 hover:ring-primary">
            <img id="nav-avatar" alt="Profile" class="w-9 h-9 rounded-full object-cover bg-slate-300" />
          </a>

          <!-- Sign in (fallback if not authed) -->
          <button id="sign-in-btn"
                  class="hidden px-4 py-2 rounded-lg font-medium hover:bg-slate-100 dark:hover:bg-slate-800"
                  onclick="(sessionStorage.setItem('postLoginRedirect', location.pathname+location.search), auth.login())">
            Sign in
          </button>

          <!-- Theme toggle -->
          <button id="theme-toggle"
                  class="w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center hover:bg-slate-200 dark:hover:bg-slate-700">
            <i class="fa-solid fa-sun block dark:hidden text-yellow-500"></i>
            <i class="fa-solid fa-moon hidden dark:block text-slate-200"></i>
          </button>

          <!-- Mobile menu -->
          <button id="mobile-menu-btn" class="md:hidden text-slate-700 dark:text-slate-300">
            <i class="fa-solid fa-bars text-xl"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Mobile nav drawer -->
    <div id="mobile-menu" class="md:hidden hidden border-t border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900">
      <div class="max-w-6xl mx-auto px-4 py-3 grid gap-2">
        <a href="#openai"   class="nav-link">OpenAI News</a>
        <a href="#chatgpt"  class="nav-link">ChatGPT Updates</a>
        <a href="#industry" class="nav-link">AI Industry</a>
        <a href="#research" class="nav-link">Research & Innovation</a>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="max-w-6xl mx-auto px-4 pt-10 pb-6">
    <div class="grid md:grid-cols-2 gap-8 items-center">
      <div>
        <h1 class="text-4xl md:text-5xl font-extrabold leading-tight">
          The latest <span class="gradient-text">AI news</span> — curated for you
        </h1>
        <p class="mt-4 text-slate-600 dark:text-slate-300">
          Daily coverage on OpenAI, ChatGPT, the AI industry, and cutting-edge research.
        </p>
        <div class="mt-6 flex gap-3">
          <a href="/signup" class="px-4 py-2 rounded-lg bg-primary text-white hover:opacity-90">Get started</a>
          <a href="/legal/privacy.html" class="px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-700">Privacy</a>
        </div>
      </div>
      <div class="rounded-xl p-6 border card bg-white/60 dark:bg-slate-900/60">
        <p class="text-sm text-slate-500 dark:text-slate-400 mb-2">Trending now</p>
        <ul class="space-y-2 text-slate-800 dark:text-slate-200">
          <li>• OpenAI announces new model updates</li>
          <li>• Industry: Major partnership in AI safety</li>
          <li>• Research: Breakthrough in multi-modal reasoning</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- CATEGORIES / LISTS -->
  <main class="max-w-6xl mx-auto px-4 pb-16">
    <!-- OpenAI -->
    <section id="openai" class="mt-10">
      <div class="flex items-center justify-between">
        <h2 class="text-2xl font-bold">OpenAI News</h2>
        <a href="/category/openai.html" class="text-primary hover:underline text-sm">See all</a>
      </div>
      <div id="grid-openai" class="mt-4 grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
        <!-- cards injected or static placeholders -->
        <article class="p-4 rounded-xl border card">
          <h3 class="font-semibold">Sample OpenAI Post</h3>
          <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">Short summary of the post goes here.</p>
        </article>
      </div>
    </section>

    <!-- ChatGPT -->
    <section id="chatgpt" class="mt-12">
      <div class="flex items-center justify-between">
        <h2 class="text-2xl font-bold">ChatGPT Updates</h2>
        <a href="/category/chatgpt.html" class="text-primary hover:underline text-sm">See all</a>
      </div>
      <div id="grid-chatgpt" class="mt-4 grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
        <article class="p-4 rounded-xl border card">
          <h3 class="font-semibold">ChatGPT gets feature X</h3>
          <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">Brief description of the update.</p>
        </article>
      </div>
    </section>

    <!-- Industry -->
    <section id="industry" class="mt-12">
      <div class="flex items-center justify-between">
        <h2 class="text-2xl font-bold">AI Industry</h2>
        <a href="/category/industry.html" class="text-primary hover:underline text-sm">See all</a>
      </div>
      <div id="grid-industry" class="mt-4 grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
        <article class="p-4 rounded-xl border card">
          <h3 class="font-semibold">Big partnership announced</h3>
          <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">What this means for the ecosystem.</p>
        </article>
      </div>
    </section>

    <!-- Research -->
    <section id="research" class="mt-12">
      <div class="flex items-center justify-between">
        <h2 class="text-2xl font-bold">Research & Innovation</h2>
        <a href="/category/research.html" class="text-primary hover:underline text-sm">See all</a>
      </div>
      <div id="grid-research" class="mt-4 grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
        <article class="p-4 rounded-xl border card">
          <h3 class="font-semibold">New multimodal technique</h3>
          <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">Why it matters and what’s next.</p>
        </article>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="border-t border-slate-200 dark:border-slate-800 py-10">
    <div class="max-w-6xl mx-auto px-4 grid gap-8 md:grid-cols-3 text-sm text-slate-600 dark:text-slate-400">
      <div>
        <div class="font-semibold text-slate-800 dark:text-slate-200 mb-2">Resources</div>
        <ul class="space-y-1">
          <li><a href="/resources/glossary.html" class="hover:underline">AI Glossary</a></li>
          <li><a href="/resources/research.html" class="hover:underline">Research Papers</a></li>
          <li><a href="/resources/tutorials.html" class="hover:underline">Tutorials</a></li>
          <li><a href="/resources/events.html" class="hover:underline">Events</a></li>
        </ul>
      </div>
      <div>
        <div class="font-semibold text-slate-800 dark:text-slate-200 mb-2">Legal</div>
        <ul class="space-y-1">
          <li><a href="/legal/privacy.html" class="hover:underline">Privacy Policy</a></li>
          <li><a href="/legal/terms.html" class="hover:underline">Terms of Service</a></li>
          <li><a href="/legal/cookie-policy.html" class="hover:underline">Cookie Policy</a></li>
        </ul>
      </div>
      <div class="md:text-right flex items-end">
        <p class="w-full text-center md:text-right">© <span id="year"></span> AI News Hub</p>
      </div>
    </div>
  </footer>

  <!-- PAGE SCRIPTS -->
  <script>
    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Theme toggle
    document.getElementById('theme-toggle')?.addEventListener('click', () => {
      const isDark = document.documentElement.classList.toggle('dark');
      document.documentElement.dataset.theme = isDark ? 'dark' : 'light';
      localStorage.theme = isDark ? 'dark' : 'light';
    });

    // Mobile menu
    const mbBtn = document.getElementById('mobile-menu-btn');
    const mb = document.getElementById('mobile-menu');
    mbBtn?.addEventListener('click', () => mb.classList.toggle('hidden'));

    // Auth-driven header state
    window.addEventListener('DOMContentLoaded', async () => {
      try { await auth.ready; } catch {}
      const signInBtn = document.getElementById('sign-in-btn');
      const profileChip = document.getElementById('profile-chip');
      const navAvatar = document.getElementById('nav-avatar');

      let authed = false;
      try { authed = await auth.isAuthenticated(); } catch {}

      if (authed) {
        let user = null;
        try { user = await auth.getUser(); } catch {}
        if (user?.picture) navAvatar.src = user.picture;
        profileChip.classList.remove('hidden');
        signInBtn.classList.add('hidden');
      } else {
        profileChip.classList.add('hidden');
        signInBtn.classList.remove('hidden');
      }
    });
  </script>
</body>
</html>
