<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cookie Policy - AI News Hub</title>

  <!-- Auth0: DO NOT CHANGE -->
  <meta name="auth0-client-id" content="a2MdQnWFC2HOqBY09V4EZ7KOFjj3fXNK">
  <meta name="auth0-domain" content="dev-zi3ojkfg51ob4f3c.eu.auth0.com">
  <meta name="auth0-audience" content="https://ai-news-hub-eta.vercel.app/api">
  <!-- 1) Auth0 SPA SDK -->
<script src="https://cdn.auth0.com/js/auth0-spa-js/2.1/auth0-spa-js.production.js"></script>
<!-- 2) Your helper that wires up login/logout -->
<script src="/auth/auth.js" defer></script>

  <script>
    document.documentElement.dataset.theme = localStorage.theme || 'light';
    if (document.documentElement.dataset.theme === 'dark') document.documentElement.classList.add('dark');
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: { primary:'#0ea5e9', secondary:'#06b6d4', dark:'#0f172a', light:'#f8fafc', accent:'#818cf8' },
          fontFamily: { inter: ['Inter','system-ui','sans-serif'] }
        }
      }
    };
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/resources/site.css" />
  <script src="/public/js/cookie-banner.js" defer></script>
</head>

<body class="bg-light dark:bg-dark text-slate-900 dark:text-slate-100 font-inter">
  <!-- Header -->
  <header class="bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800">
    <div class="max-w-7xl mx-auto flex justify-between items-center p-4">
      <!-- Left side -->
      <div class="flex items-center gap-8">
        <a href="/" class="flex items-center gap-2 text-xl font-bold">
          <span class="text-primary">AI</span> News Hub
        </a>
        <nav class="hidden md:flex gap-6 text-sm">
          <a href="/news.html" class="hover:text-primary">OpenAI News</a>
          <a href="/updates.html" class="hover:text-primary">ChatGPT Updates</a>
          <a href="/industry.html" class="hover:text-primary">AI Industry</a>
          <a href="/research.html" class="hover:text-primary">Research & Innovation</a>
        </nav>
      </div>

      <!-- Right side -->
      <div class="flex items-center gap-4">
        <div id="authSection" class="flex items-center gap-3">
          <!-- Default: signed out -->
          <a id="signInBtn" href="/login" class="hover:underline">Sign in</a>
          <a id="signUpBtn" href="/signup" class="hover:underline">Sign up</a>

          <!-- Signed in -->
          <div id="profileMenu" class="hidden flex items-center gap-2">
            <img id="navAvatar" class="w-8 h-8 rounded-full border border-slate-600" alt="Avatar" />
            <a href="/profile.html" class="hover:underline">Profile</a>
          </div>
        </div>

        <!-- Dashboard -->
        <a href="/dashboard.html" class="px-3 py-1 rounded-md bg-primary hover:bg-secondary text-white text-sm">Dashboard</a>

        <!-- Theme toggle -->
        <button id="themeToggle" class="p-2 rounded-full bg-slate-200 dark:bg-slate-800 hover:bg-slate-300 dark:hover:bg-slate-700">
          ðŸŒ™
        </button>
      </div>
    </div>
  </header>

<!-- Cookie Policy Content -->
  <main class="max-w-3xl mx-auto p-6">
    <div class="flex items-center justify-between mb-3">
      <h1 class="text-3xl font-bold">Cookie Policy</h1>
      <button id="printBtn" class="text-sm px-3 py-1.5 rounded border border-slate-300 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800">Print / Save PDF</button>
    </div>
    <p class="text-sm text-slate-500 dark:text-slate-400 mb-8">Last updated: <span id="pp-date">2025-01-01</span></p>

    <section class="space-y-6 text-slate-700 dark:text-slate-300 leading-relaxed">
      <h2 class="text-xl font-semibold">1) What are cookies?</h2>
      <p>Cookies are small text files stored on your device to help websites function properly, improve user experience, and remember preferences. At AI News Hub, we only use cookies essential for secure login and basic functionality.</p>

      <h2 class="text-xl font-semibold">2) Types of cookies we use</h2>
      <ul class="list-disc pl-6">
        <li><strong>Essential cookies</strong> â€“ Required for secure authentication and session management (via Auth0). Without them, login will not work.</li>
        <li><strong>Preference storage</strong> â€“ If you choose, we may store your theme selection (light/dark) in local storage.</li>
        <li><strong>No analytics/ads cookies</strong> â€“ We do not use tracking, advertising, or analytics cookies.</li>
      </ul>

      <h2 class="text-xl font-semibold">3) Managing cookies</h2>
      <p>You can manage or block cookies in your browser settings. Blocking essential cookies will prevent login from functioning.</p>
      <div class="mt-3 flex gap-3">
        <span id="cookieStatus" class="px-3 py-1 text-sm rounded bg-slate-100 dark:bg-slate-800 border border-slate-300 dark:border-slate-700">Checking cookie statusâ€¦</span>
        <button id="cookiePrefs" class="px-3 py-1 text-sm rounded border border-slate-300 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800">Open Cookie Preferences</button>
      </div>

      <h2 class="text-xl font-semibold">4) Consent</h2>
      <p>By continuing to use the Service, you consent to the use of essential cookies. You can withdraw consent for optional preferences at any time.</p>

      <h2 class="text-xl font-semibold">5) FAQ</h2>
      <div class="space-y-2">
        <details class="border border-slate-200 dark:border-slate-700 rounded p-3">
          <summary class="cursor-pointer font-semibold">Do you use tracking cookies?</summary>
          <p class="mt-2 text-slate-600 dark:text-slate-400">No. We do not use analytics, advertising, or cross-site tracking cookies.</p>
        </details>
        <details class="border border-slate-200 dark:border-slate-700 rounded p-3">
          <summary class="cursor-pointer font-semibold">Will the site work without cookies?</summary>
          <p class="mt-2 text-slate-600 dark:text-slate-400">No. Authentication requires essential cookies provided by Auth0.</p>
        </details>
        <details class="border border-slate-200 dark:border-slate-700 rounded p-3">
          <summary class="cursor-pointer font-semibold">Can I delete cookies?</summary>
          <p class="mt-2 text-slate-600 dark:text-slate-400">Yes, via your browser settings. You'll be logged out and may lose preferences.</p>
        </details>
      </div>
    </section>

    <div class="mt-8 flex gap-3">
      <a href="/privacy-center.html" class="px-4 py-2 rounded bg-primary text-white hover:opacity-90">Open Privacy Center</a>
      <button id="copyLink" class="px-4 py-2 rounded border border-slate-300 dark:border-slate-700">Copy page link</button>
    </div>
  </main>

 <!-- Footer -->
  <footer class="bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 mt-12">
    <div class="max-w-7xl mx-auto p-8 grid grid-cols-1 md:grid-cols-3 gap-8 text-sm text-slate-500">
      <div>
        <h3 class="text-slate-800 dark:text-slate-200 font-semibold mb-2">Resources</h3>
        <ul class="space-y-1">
          <li><a href="/resources/glossary.html" class="hover:underline">AI Glossary</a></li>
          <li><a href="/resources/research.html" class="hover:underline">Research Papers</a></li>
          <li><a href="/resources/tutorials.html" class="hover:underline">Tutorials</a></li>
          <li><a href="/resources/events.html" class="hover:underline">Events Calendar</a></li>
        </ul>
      </div>
      <div>
        <h3 class="text-slate-800 dark:text-slate-200 font-semibold mb-2">Legal</h3>
        <ul class="space-y-1">
          <li><a href="/legal/privacy.html" class="hover:underline">Privacy Policy</a></li>
          <li><a href="/legal/terms.html" class="hover:underline">Terms of Service</a></li>
          <li><a href="/legal/cookie-policy.html" class="hover:underline">Cookie Policy</a></li>
        </ul>
      </div>
      <div class="md:text-right flex items-end">
        <p class="w-full text-center md:text-right">Â© <span id="year"></span> AI News Hub</p>
      </div>
    </div>
    <script>
      document.getElementById('year').textContent = new Date().getFullYear();
      document.getElementById('printBtn').onclick = () => window.print();
      document.getElementById('copyLink')?.addEventListener("click", async () => {
        try { await navigator.clipboard.writeText(location.href); alert('Link copied'); } catch {}
      });

      // Cookie status demo
      const status = document.getElementById('cookieStatus');
      if (status) status.textContent = localStorage.theme ? "Preferences enabled" : "Essential cookies only";
      const prefsBtn = document.getElementById('cookiePrefs');
      if (prefsBtn) prefsBtn.onclick = () => alert("Cookie preferences dialog coming soon (demo).");

      // Auth check for nav
      document.addEventListener("DOMContentLoaded", async () => {
        if (!window.auth || !window.auth.ready) return;
        try {
          await window.auth.ready;
          const isAuthed = await window.auth.isAuthenticated();
          const user = isAuthed ? await window.auth.getUser() : null;
          if (user) {
            document.getElementById("signInBtn").style.display = "none";
            document.getElementById("signUpBtn").style.display = "none";
            const navAvatar = document.getElementById("navAvatar");
            navAvatar.src = user.picture || "";
            navAvatar.alt = user.name || user.email || "Avatar";
            document.getElementById("profileMenu").classList.remove("hidden");
          }
        } catch (e) { console.error("Auth check failed:", e); }
      });
    </script>
  </footer>
</body>
</html>
